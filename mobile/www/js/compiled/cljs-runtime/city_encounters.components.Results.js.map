{"version":3,"sources":["city_encounters/components/Results.cljs"],"mappings":";AAGA,8CAAA,9CAAMA,oGAAUC;AAAhB,AACE,oBAAIA;AAAJ;;AAAA;;;AAIF,+DAAA,/DAAMC,sIAAqBC,UAAUC;AAArC,AACE,uEAAI,+CAAA,WAAAC,1DAACC,hBACDE,7CACA,6CAAA,7CAACD;AAFD,AAAS,OAACA,6CAAE,AAAA,iFAAAF,kBAAS,AAAA,iFAAMF;GAAYC,iBAEvC;;AAGN,yDAAA,zDAAMK,0HAAqBN,UAAUF;AAArC,AACE,oBAAIA;AACF,OAACS,6CAA2B,AAAA,iFAAMP;;AAClC,OAACQ,2CAAyBR;;;AAE9B,6CAAA,7CAAMS,kGAAST,UAAUC;AAAzB,AACE,IAAMH,kBAAU,AAACC,6DAAoBC,UAAUC;AAA/C,AACE,AAACS,uGAAMZ;;AADT,0FAAA,+GAAA,mFAAA,4HAAA,mFAAA,yKAAA,mFAAA,kDAAA,2CAAA,uDAAA,2CAAA,uDAAA,OAAA,yDAAA,eAAA,2DAAA,cAAA,6DAAA,poBAIkB,AAAA,mFAAOE;AAJzB,AAKmF,OAACM,uDAAoBN,UAAUF;WALlH,mFAAA,qDAAA,2CAAA,iHAAA,+CAAA,mSAAA,mFAAA,8FAAA,mFAAA,npBAMoB,AAACD,4CAASC,qpBAEtB,AAAA,kGAAcE","names":["city-encounters.components.Results/get-fill","is-saved?","city-encounters.components.Results/is-encounter-saved?","encounter","saved-outcomes","p1__29402#","cljs.core.filter","cljs.core._EQ_","cljs.core/count","city-encounters.components.Results/handle-localstorage","city-encounters.services.local/handle-delete","city-encounters.services.local/handle-save","city-encounters.components.Results/Results","cljs.core.print"],"sourcesContent":["(ns city-encounters.components.Results\n  (:require [city-encounters.services.local :as localstorage]))\n\n(defn get-fill [is-saved?]\n  (if is-saved?\n    \"#903918\"\n    \"#62574a\"))\n\n(defn is-encounter-saved? [encounter saved-outcomes]\n  (-> (filter #(= (:_id %) (:_id encounter)) saved-outcomes)\n      count\n      (= 0)\n      not))\n\n(defn handle-localstorage [encounter is-saved?]\n  (if is-saved?\n    (localstorage/handle-delete (:_id encounter))\n    (localstorage/handle-save encounter)))\n\n(defn Results [encounter saved-outcomes]\n  (let [is-saved? (is-encounter-saved? encounter saved-outcomes)]\n    (print is-saved?)\n    [:div.Results.max-w-xl.mx-auto.px-6\n     [:div.Results__header.flex.justify-between\n      [:h2.text-3xl (:name encounter)]\n      [:svg {:style {:width \"22px\" :height \"22px\"} :viewBox \"0 0 576 512\" :on-click #(handle-localstorage encounter is-saved?)}\n        [:path {:fill (get-fill is-saved?) :d \"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z\"}]]]\n     [:div.Results__details.pt-2\n      [:p (:description encounter)]]]))\n"]}