{"version":3,"sources":["city_encounters/events.cljs"],"mappings":"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","names":["re_frame.core.reg_event_db","_","city-encounters.db/default-db","re_frame.core.reg_event_fx","p__29109","vec__29110","seq__29111","cljs.core/seq","first__29112","cljs.core/first","cljs.core/next","_cofx","route","re-frame.core/reg-fx","cljs.core.apply","reitit.frontend.easy/push-state","p__29113","vec__29114","cljs.core.nth","db","new-match","old-match","controllers","reitit.frontend.controllers/apply-controllers","cljs.core.assoc","p__29117","vec__29118","current-size","cljs.core.conj","p__29121","vec__29122","current-outcome","p__29125","vec__29126","outcome","cljs.core.update","cljs.core/conj","p__29130","vec__29131","p1__29129#","cljs.core.partial","cljs.core/remove","cljs.core._EQ_","p__29134","vec__29135","val","p__29138","vec__29139","encounter","p__29142","vec__29143","p__29146","vec__29147","cljs.core.update_in","p__29150","vec__29151"],"sourcesContent":["(ns city-encounters.events\n  (:require\n   [re-frame.core :as re-frame]\n   [reitit.coercion.malli]\n   [reitit.frontend]\n   [reitit.frontend.easy :as rfe]\n   [reitit.frontend.controllers :as rfc]\n   [city-encounters.db :as db]))\n\n\n(re-frame/reg-event-db\n ::initialize-db\n (fn [_ _]\n   db/default-db))\n\n(re-frame/reg-event-fx\n  :navigate\n  (fn [_cofx [_ & route]]\n    {:navigate! route}))\n\n;; Triggering navigation from events.\n(re-frame/reg-fx\n  :navigate!\n  (fn [route]\n    (apply rfe/push-state route)))\n\n\n(re-frame/reg-event-db\n  :navigated\n  (fn [db [_ new-match]]\n    (let [old-match   (:current-route db)\n          controllers (rfc/apply-controllers (:controllers old-match) new-match)]\n      (assoc db :current-route (assoc new-match :controllers controllers)))))\n\n(re-frame/reg-event-db\n  :set-current-size\n  (fn [db [_ current-size]]\n    (conj db {:current-size current-size})))\n\n(re-frame/reg-event-db\n  :set-current-outcome\n  (fn [db [_ current-outcome]]\n    (conj db {:current-outcome current-outcome})))\n\n(re-frame/reg-event-db\n  :add-extra-outcome\n  (fn [db [_ outcome]]\n    (update db :extra-outcomes conj outcome)))\n\n(re-frame/reg-event-db\n  :remove-extra-outcome\n  (fn [db [_ outcome]]\n    (update db :extra-outcomes (partial remove #(= % outcome)))))\n\n(re-frame/reg-event-db\n  :set-is-loading\n  (fn [db [_ val]]\n    (conj db {:is-loading val})))\n\n(re-frame/reg-event-db\n  :set-encounter\n  (fn [db [_ encounter]]\n    (conj db {:encounter encounter})))\n\n(re-frame/reg-event-db\n  :set-active-page\n  (fn [db [_ val]]\n    (conj db {:active-page val})))\n\n(re-frame/reg-event-db\n  :set-new-outcome\n  (fn [db [_ val]]\n    (update-in db [:saved-outcomes] conj val)))\n\n(re-frame/reg-event-db\n  :set-saved-outcomes\n  (fn [db [_ val]]\n    (conj db {:saved-outcomes val})))\n"]}